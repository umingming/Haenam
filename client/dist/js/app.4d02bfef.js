(function(){"use strict";var t={5855:function(t,e,n){var o=n(9963),a=n(6252);const r={id:"app"};function i(t,e,n,o,i,l){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(s)])}var l={name:"App"},s=n(3744);const c=(0,s.Z)(l,[["render",i]]);var u=c,d=n(3907),p=(n(7658),n(6154));function h(t){return t.interceptors.request.use((t=>(t.headers["Content-Type"]="application/json",t)),(t=>Promise.reject(t.response))),t.interceptors.response.use((t=>t),(t=>Promise.reject(t.response))),t}function f(t,e){const n=p.Z.create(Object.assign({baseURL:t},e));return h(n),n}const J=f(""),_="/api/journal";function g(t){return J.get(_,t)}function v(t){return J.post(_,t)}function m(t){return J.put(_,t)}function y(t){return J["delete"](`${_}/${t}`)}var O={get:g,add:v,edit:m,remove:y},w=n(2262);const D=(0,w.qj)({journals:[],selectedJournal:{}}),j={getJournals(t){return JSON.parse(JSON.stringify(t.journals))},getSelectedJournal(t){return t.selectedJournal}},U={async FETCH_JOURNALS({commit:t}){try{const{data:e}=await O.get({});return e&&t("SET_JOURNALS",e),e}catch(e){console.log(e)}},async ADD_JOURNAL({commit:t},e){try{const{data:n}=await O.add(e);return t("ADD_JOURNAL",n[0]),n}catch(n){console.log(n)}},async EDIT_JOURNAL({commit:t},e){try{const{data:n}=await O.edit(e);return t("EDIT_JOURNAL",n),n}catch(n){console.log(n)}},async REMOVE_JOURNAL({commit:t},e){try{const{data:n}=await O.remove(e);return t("REMOVE_JOURNAL",e),n}catch(n){console.log(n)}}},b={SET_JOURNALS(t,e){t.journals=e},ADD_JOURNAL(t,e){t.journals.push(e)},EDIT_JOURNAL(t,e){const{_id:n}=e,o=t.journals.findIndex((t=>t._id===n));t.journals[o]=e,t.selectedJournal=t.journals[o]},REMOVE_JOURNAL(t,e){const n=t.journals.findIndex((t=>t._id==e));t.journals.splice(n,1)},SELECT_JOURNAL(t,e){t.selectedJournal=e}};var A={namespaced:!0,state:D,getters:j,actions:U,mutations:b},R=(0,d.MT)({state:{},getters:{},mutations:{},actions:{},modules:{journal:A}}),L=n(2201);function k(t,e,n,r,i,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.id=t)},null,512),[[o.nr,i.id]])]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.pw=t)},null,512),[[o.nr,i.pw]])]),(0,a._)("button",{onClick:e[2]||(e[2]=(...t)=>l.login&&l.login(...t))},"확인")])}function E(t){return J.post("/api/login",t)}function N(t){return J.post("/api/register",t)}var C={login:E,register:N},S={name:"LoginView",data(){return{id:"",pw:""}},methods:{async login(){try{await C.login({id:this.id,pw:this.pw}),this.$router.push("/main")}catch(t){console.log(t)}}}};const T=(0,s.Z)(S,[["render",k]]);var V=T,x=n(3577);const I=t=>((0,a.dD)("data-v-20da6d64"),t=t(),(0,a.Cn)(),t),F={class:"title"},M=I((()=>(0,a._)("i",{class:"fa-solid fa-angle-left"},null,-1))),q=[M],P=I((()=>(0,a._)("i",{class:"fa-solid fa-angle-right"},null,-1))),H=[P],Z=I((()=>(0,a._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),$=[Z],B=["onUpdate:modelValue","onChange"],K=["data-id","onUpdate:modelValue","onFocus"],W=["onClick"],z=I((()=>(0,a._)("i",{class:"fa-solid fa-xmark"},null,-1))),Y=[z],G={class:"journal pending"},Q=I((()=>(0,a._)("i",{class:"fa-solid fa-circle-plus"},null,-1))),X=[Q];function tt(t,e,n,r,i,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",F,[(0,a._)("button",{onClick:e[0]||(e[0]=t=>l.updateDate(-1))},q),(0,a._)("h2",null,(0,x.zw)(l.dailyFormat),1),(0,a._)("button",{onClick:e[1]||(e[1]=t=>l.updateDate(1))},H)]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.dailyJournals,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t._id,class:(0,x.C_)(["journal",{on:l.isSelectedJournal(t)}])},[(0,a._)("button",{class:"button-edit",onClick:e[2]||(e[2]=t=>l.editJournal())},$),(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":e=>t.checked=e,onChange:e=>l.editJournal(t)},null,40,B),[[o.e8,t.checked]]),(0,a.wy)((0,a._)("input",{type:"text","data-id":t._id,"onUpdate:modelValue":e=>t.content=e,onFocus:e=>l.selectJournal(t),onKeydown:[e[3]||(e[3]=(0,o.D2)((t=>l.editJournal()),["enter"])),e[4]||(e[4]=(0,o.D2)(((...t)=>l.handleBackspaceInput&&l.handleBackspaceInput(...t)),["backspace"]))]},null,40,K),[[o.nr,t.content]]),(0,a._)("button",{class:"button-remove",onClick:e=>l.removeJournal(t._id)},Y,8,W)],2)))),128)),(0,a._)("div",G,[(0,a._)("button",{class:"button-add",onClick:e[5]||(e[5]=(...t)=>l.addJournal&&l.addJournal(...t))},X),(0,a._)("input",{type:"text",id:"pending-journal",onKeydown:e[6]||(e[6]=(0,o.D2)(((...t)=>l.addJournal&&l.addJournal(...t)),["enter"]))},null,32)])])])}var et={name:"MainView",data(){return{selectedDate:new Date,selectedJournal:{}}},computed:{...(0,d.Se)("journal",["getJournals"]),dailyFormat(){const t=t=>t.toISOString().slice(0,10);return t(this.selectedDate)},dailyJournals(){const t=this.getJournals.filter((t=>t.date.startsWith(this.dailyFormat)));return t},isSelectedJournal(){return({_id:t})=>this.selectedJournal._id==t}},created(){this.init()},methods:{...(0,d.nv)("journal",["FETCH_JOURNALS","ADD_JOURNAL","EDIT_JOURNAL","REMOVE_JOURNAL"]),init(){this.FETCH_JOURNALS()},updateDate(t){const e=this.selectedDate.getDate()+t;this.selectedDate=new Date(this.selectedDate.setDate(e))},async addJournal(){const t=document.querySelector("#pending-journal");if(t?.value)try{const e={content:t.value,date:this.selectedDate};await this.ADD_JOURNAL(e),t.value=""}catch(e){console.log(e)}},async editJournal(t){const{_id:e,content:n,checked:o}=t||this.selectedJournal;try{await this.EDIT_JOURNAL({_id:e,content:n,checked:o}),t||this.deselectJournal()}catch(a){console.log(a)}},handleBackspaceInput({target:{dataset:t,value:e},repeat:n}){n||e||this.removeJournal(t.id)},async removeJournal(t){try{await this.REMOVE_JOURNAL(t)}catch(e){console.log(e)}},selectJournal(t){this.selectedJournal=t},deselectJournal(){const{_id:t}=this.selectedJournal,e=document.querySelector(`[data-id="${t}"]`);e.blur(),this.selectedJournal={}}}};const nt=(0,s.Z)(et,[["render",tt],["__scopeId","data-v-20da6d64"]]);var ot=nt;const at=(0,L.p7)({history:(0,L.PO)(),routes:[{path:"/",redirect:"/login"},{path:"/login",name:"LoginView",component:V},{path:"/main",name:"MainView",component:ot}]});var rt=at;const it=(0,o.ri)(u);it.use(R),it.use(rt),it.mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,r){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],r=t[u][2];for(var l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[s])}))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,a,r]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,r,i=o[0],l=o[1],s=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(e&&e(o);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5855)}));o=n.O(o)})();
//# sourceMappingURL=app.4d02bfef.js.map